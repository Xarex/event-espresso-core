(this.webpackJsonproot=this.webpackJsonproot||[]).push([[17],{2204:function(e,t,a){},2205:function(e,t,a){"use strict";var l=a(0),c=a.n(l),n=a(2195),i=a(4),s=a(35),r=a(22),o=a(11),u=a(31),m=a(19),b=function(e){var t=e.ticket,a=Object(o.useConfig)().siteUrl.admin,l=Object(r.getAdminUrl)({adminSiteUrl:a,page:s.ADMIN_ROUTES.REGISTRATIONS}),b=Object(r.useEventId)(),d=Object(n.addQueryArgs)(l,{event_id:b,ticket_id:t.dbId,return:"edit"}),p=Object(i.__)("total registrations."),y=Object(i.__)("view registrations for this ticket."),k=Object(u.useMemoStringify)({placement:"top"});return c.a.createElement(m.ItemCount,{count:t.registrationCount,title:p,emphasizeZero:!1,offset:[12,-4]},c.a.createElement(m.RegistrationsLink,{href:d,tooltip:y,tooltipProps:k}))};t.a=c.a.memo(b,Object(o.getPropsAreEqual)(["ticket","cacheId"]))},2206:function(e,t,a){"use strict";var l=a(0),c=a.n(l),n=a(11),i=a(19),s=a(22),r=function(e){var t=e.entity,a=Object(s.useTicketMutator)(t.id).updateEntity,r=Object(l.useCallback)((function(e){var l=Object(n.parseInfinity)(e);l!==t.quantity&&a({quantity:l})}),[t.quantity,a]);return c.a.createElement(i.InlineEditInfinity,{onChangeValue:r,value:"".concat(t.quantity)})};t.a=c.a.memo(r,Object(n.getPropsAreEqual)(["entity","cacheId"]))},2207:function(e,t,a){"use strict";a.d(t,"a",(function(){return u})),a.d(t,"b",(function(){return b})),a.d(t,"c",(function(){return f}));var l=a(0),c=a.n(l),n=a(4),i=a(22),s=a(19),r=a(11),o=function(e){var t=e.entity,a=e.className,r=Object(i.useTicketMutator)(t.id).updateEntity,o=Object(l.useCallback)((function(e){e!==t.description&&r({description:e})}),[t.cacheId,r]),u=t.description?t.description:Object(n.__)("Edit description...");return c.a.createElement(s.InlineEditTextArea,{className:a,onChangeValue:o,value:u})},u=c.a.memo(o,Object(r.getPropsAreEqual)(["entity","description"])),m=function(e){var t=e.className,a=e.entity,r=e.view,o=void 0===r?"card":r,u=Object(i.useTicketMutator)(a.id).updateEntity,m=Object(l.useCallback)((function(e){e!==a.name&&u({name:e})}),[a.name,u]),b=a.name?a.name:Object(n.__)("Edit title...");return c.a.createElement(s.InlineEditText,{fitText:"card"===o,tag:"table"===o?"p":"h4",className:t,onChangeValue:m,value:b})},b=c.a.memo(m,Object(r.getPropsAreEqual)(["entity","name"])),d=a(29),p=a.n(d),y=a(61),k=a(735),v=a(17),O=function(e){var t=Object(y.useInitialState)({ticketId:e}),a=Object(i.usePriceMutator)().updateEntity;return Object(l.useCallback)((function(){var e=Object(k.a)(t(null)).filter(v.isBasePrice),l=p()(e,1)[0];if(null===l||void 0===l?void 0:l.id){var c=l.id,n=l.amount;a({id:c,amount:n})}}),[t,a])},j=a(31),E=function(e){var t=e.entity,a=e.className,r=Object(i.useTicketMutator)(t.id).updateEntity,o=O(t.id),u=Object(l.useCallback)((function(e){var a=e.amount;(a=parseFloat(a))!==t.price&&(r({price:a,reverseCalculate:!0}),o())}),[o,t.price,r]),m=Object(j.useMemoStringify)({className:a});return c.a.createElement(s.CurrencyInput,{id:t.id,amount:t.price,placeholder:Object(n.__)("set price..."),wrapperProps:m,onChange:u,tag:"h3"})},f=c.a.memo(E,Object(r.getPropsAreEqual)(["entity","price"]))},2210:function(e,t,a){"use strict";var l=a(3),c=a.n(l),n=a(8),i=a.n(n),s=a(0),r=a.n(s),o=a(19),u=a(939),m=function(e){return Object(u.b)("ticket",e)},b=a(11),d=function(e){var t=e.entity,a=i()(e,["entity"]),l=m(t);return r.a.createElement(o.EntityActionsMenu,c()({},a,{menuItems:l}))};t.a=r.a.memo(d,Object(b.getPropsAreEqual)(["entity","cacheId"]))},2215:function(e,t,a){"use strict";a.r(t);var l=a(0),c=a.n(l),n=a(4),i=a(19),s=a(22),r=function(){return Object(l.useCallback)((function(e){var t=e.displayStartOrEndDate;return{cells:[{key:"stripe",type:"cell",className:"ee-ticket-list-col-hdr ee-entity-list-status-stripe ee-rspnsv-table-column-nano",value:""},{key:"id",type:"cell",className:"ee-ticket-list-col-hdr ee-ticket-list-col-id ee-number-column ee-rspnsv-table-column-nano",value:Object(n.__)("ID")},{key:"name",type:"cell",className:"ee-ticket-list-col-hdr ee-ticket-list-col-name ee-rspnsv-table-column-bigger",value:Object(n.__)("Name")},{key:"start",type:"cell",className:"ee-ticket-list-col-hdr ee-ticket-list-col-name-start ee-rspnsv-table-column-default",value:c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"ee-rspnsv-table-long-label"},Object(n.__)("Goes on Sale")),c.a.createElement("span",{className:"ee-rspnsv-table-short-label"},Object(n.__)("On Sale")))},{key:"end",type:"cell",className:"ee-ticket-list-col-hdr ee-ticket-list-col-end ee-rspnsv-table-column-default",value:c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"ee-rspnsv-table-long-label"},Object(n.__)("Sale Ends")),c.a.createElement("span",{className:"ee-rspnsv-table-short-label"},Object(n.__)("Ends")))},{key:"price",type:"cell",className:"ee-ticket-list-col-hdr ee-ticket-list-col-price ee-rspnsv-table-column-tiny ee-number-column",value:Object(n.__)("Price")},{key:"quantity",type:"cell",className:"ee-ticket-list-col-hdr ee-ticket-list-col-quantity ee-rspnsv-table-column-tiny ee-number-column",value:Object(n.__)("Quantity")},{key:"sold",type:"cell",className:"ee-ticket-list-col-hdr ee-ticket-list-col-sold ee-rspnsv-table-column-tiny ee-number-column",value:Object(n.__)("Sold")},{key:"registrations",type:"cell",className:"ee-ticket-list-col-hdr ee-ticket-list-col-registrations ee-rspnsv-table-column-smaller ee-centered-column",value:c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"ee-rspnsv-table-long-label"},Object(n.__)("Registrations")),c.a.createElement("span",{className:"ee-rspnsv-table-short-label"},Object(n.__)("Regs")))},{key:"actions",type:"cell",className:"ee-ticket-list-col-hdr ee-actions-column ee-rspnsv-table-column-big ee-centered-column",value:c.a.createElement("span",{className:"ee-rspnsv-table-long-label"},Object(n.__)("Actions"))}].filter(Object(s.filterCellByStartOrEndDate)(t)),className:"ee-editor-ticket-list-items-header-row",key:"ticket-header-row",primary:!0,type:"row"}}),[])},o=a(25),u=a(9),m=a(35),b=a(1022),d=a(11),p=a(2210),y=a(2206),k=a(2207),v=a(2205),O=(a(2204),function(){var e=Object(d.useMoneyDisplay)().formatAmount;return Object(l.useCallback)((function(t){var a=t.entity,l=t.filterState,n=l.displayStartOrEndDate,r=l.sortingEnabled,O=Object(b.getTicketBackgroundColorClassName)(a),j=a.dbId||Object(d.shortenGuid)(a.id),E=Object(b.ticketStatus)(a),f={key:"name",type:"cell",className:"ee-ticket-list-cell ee-ticket-list-col-name ee-col-name ee-rspnsv-table-column-bigger ee-rspnsv-table-hide-on-mobile",value:r?a.name:c.a.createElement(k.b,{className:"ee-entity-list-text ee-focus-priority-5",entity:a,view:"table"})},_={key:"quantity",type:"cell",className:"ee-ticket-list-cell ee-ticket-list-col-quantity ee-rspnsv-table-column-tiny ee-number-column",value:r?a.quantity:c.a.createElement(y.a,{entity:a})},g=[{key:"stripe",type:"cell",className:"ee-ticket-list-cell ee-entity-list-status-stripe ".concat(O," ee-rspnsv-table-column-nano"),value:c.a.createElement("div",{className:"ee-rspnsv-table-show-on-mobile"},a.name)},{key:"id",type:"cell",className:"ee-ticket-list-cell ee-ticket-list-col-id ee-rspnsv-table-column-nano ee-number-column",value:j},f,{key:"start",type:"cell",className:"ee-ticket-list-cell ee-ticket-list-col-start ee-rspnsv-table-column-default",value:Object(o.format)(new Date(a.startDate),m.ENTITY_LIST_DATE_TIME_FORMAT)},{key:"end",type:"cell",className:"ee-ticket-list-cell ee-ticket-list-col-end ee-rspnsv-table-column-default",value:Object(o.format)(new Date(a.endDate),m.ENTITY_LIST_DATE_TIME_FORMAT)},{key:"price",type:"cell",className:"ee-ticket-list-col-hdr ee-ticket-list-col-price ee-rspnsv-table-column-tiny ee-number-column",value:e(a.price)},_,{key:"sold",type:"cell",className:"ee-ticket-list-cell ee-ticket-list-col-sold ee-rspnsv-table-column-tiny ee-number-column",value:a.sold},{key:"registrations",type:"cell",className:"ee-ticket-list-cell ee-ticket-list-col-registrations ee-rspnsv-table-column-smaller ee-centered-column",value:r?"-":c.a.createElement(v.a,{ticket:a})},{key:"actions",type:"cell",className:"ee-ticket-list-cell ee-actions-column ee-rspnsv-table-column-big",value:r?"-":c.a.createElement(p.a,{entity:a})}];return{cells:Object(u.H)(Object(u.m)(Object(s.filterCellByStartOrEndDate)(n)),Object(i.addZebraStripesOnMobile)(["row","stripe","name","actions"]))(g),className:"ee-editor-date-list-view-row ".concat(E),id:"ee-editor-date-list-view-row-".concat(a.id),key:"row-".concat(a.id),type:"row"}}),[e])}),j=a(1295);t.default=function(){var e=Object(j.d)(),t=e.filterState,a=e.filteredEntities,l=Object(s.useReorderTickets)(a).sortResponder,o=O(),u=r();return c.a.createElement(i.EntityTable,{entities:a,filterState:t,bodyRowGenerator:o,headerRowGenerator:u,className:"ee-tickets-list-list-view ee-fade-in",tableId:"ticket-entities-table-view",tableCaption:Object(n.__)("Tickets"),onSort:l})}}}]);
//# sourceMappingURL=tickets-table-view.e55c90e0.chunk.js.map